<div class="trip-details-container">
  <h2>Your Trips</h2>

  <!-- Loading Indicator -->
  <div *ngIf="isLoading" class="loading">
    <p>Loading trips...</p>
  </div>

  <!-- List of Trips -->
  <div *ngFor="let trip of trips" class="trip-card">
    <h3>{{ trip.tripName }}</h3>
    <button (click)="viewTripDetails(trip.tripId)">View Details</button>
  </div>

  <!-- Debts Section -->
  <div *ngIf="selectedTripDebts">
    <h2>Debts for Trip: {{ selectedTripName }}</h2>

    <!-- Owes To Others -->
    <div *ngIf="selectedTripDebts.OwesToOthers.length > 0">
      <h3>Owes To Others</h3>
      <div *ngFor="let debt of selectedTripDebts.OwesToOthers" class="debt-card">
        <p>
          You Owe <span class="highlight">{{ debt.amount | currency }}</span> to
          <span class="highlight">{{ debt.creditorUsername }}</span>
        </p>
        <button *ngIf="debt.amount > 0" (click)="settleExpense(debt.creditorId,debt.tripId)">
          Settle Expense
        </button>
      </div>
    </div>

    <!-- Owed By Others -->
    <div *ngIf="selectedTripDebts.OwedByOthers.length > 0">
      <h3>Owed By Others</h3>
      <div *ngFor="let debt of selectedTripDebts.OwedByOthers" class="debt-card">
        <p>
          <span class="highlight">{{ debt.debtorUsername }}</span> Owes You
          <span class="highlight">{{ debt.amount | currency }}</span>
        </p>
      </div>
    </div>
  </div>
</div>
